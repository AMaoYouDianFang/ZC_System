<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >


<mapper namespace="com.system.mapper.StuMapperCustom">

    <select id="selectByName" parameterType="String" resultType="com.system.po.StuCustom">
        select
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        stuName = #{name, jdbcType=VARCHAR}
        AND
        stu.gradeID = grade.gradeID
    </select>


    <select id="findByPaging" parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select
        stu.*, grade.gradeName
        from stu, grade
        WHERE stu.gradeID = grade.gradeID
        limit #{toPageNo}, #{pageSize}
    </select>

    <select id="selectByPrimaryKey" resultType="com.system.po.StuCustom" parameterType="java.lang.Integer">
        select
        stu.*, grade.gradeName
        from stu, grade
        where
        stuID = #{stuid,jdbcType=INTEGER}
        AND
        stu.gradeID = grade.gradeID
    </select>

    <select id="findByGrade" parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select
        stu.*, grade.gradeName
        from stu, grade
        WHERE stu.gradeID = grade.gradeID
        ORDER BY grade.gradeID
        limit #{toPageNo}, #{pageSize}
    </select>

    <select id="selectByGrade" parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        stu.gradeID = #{intergertemp, jdbcType=INTEGER}
        AND
        stu.gradeID = grade.gradeID
        limit #{toPageNo}, #{pageSize}
    </select>

    <select id="selectAllByGrade" parameterType="java.lang.Integer" resultType="com.system.po.StuCustom">
        select
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        stu.gradeID = #{gradeid, jdbcType=INTEGER}
        AND
        stu.gradeID = grade.gradeID
    </select>

    <select id="selectByDate" parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        stu.recordDate BETWEEN #{startdate, jdbcType=DATE} AND #{enddate, jdbcType=DATE}
        AND
        stu.gradeID = grade.gradeID
        limit #{toPageNo}, #{pageSize}
    </select>

    <select id="selectAllByDate"  resultType="com.system.po.StuCustom">
        select
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        stu.recordDate BETWEEN #{0} AND #{1}
        AND
        stu.gradeID = grade.gradeID
    </select>

    <select id="selectByBirth"  resultType="com.system.po.StuCustom">
        select
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        stu.gradeID = grade.gradeID
        AND  <!--不跨年的查询-->
        DATEDIFF(CAST(CONCAT(YEAR(NOW()),DATE_FORMAT(stu.stuBirth,'-%m-%d'))AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) = 7
        OR   <!--or后面的解决跨年问题-->
        DATEDIFF(CAST(CONCAT(YEAR(NOW())+1,DATE_FORMAT(stu.stuBirth,'-%m-%d'))AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) = 7
        OR <!--补充闰年2月29日的生日方法-->
        (
        f_not_leap_year(YEAR(NOW()))
        AND DATE_FORMAT(stu.stuBirth,'-%m-%d')= '-02-29'
        AND DATEDIFF(CAST(CONCAT('2000',DATE_FORMAT(stu.stuBirth,'-%m-%d'))AS DATE),CAST(CONCAT('2000',DATE_FORMAT(NOW(),'-%m-%d')) AS DATE)) = 7)
    </select>

    <select id="selectByFatherBirth"  resultType="com.system.po.StuCustom">
        select
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        stu.gradeID = grade.gradeID
        AND  <!--不跨年的查询-->
        DATEDIFF(CAST(CONCAT(YEAR(NOW()),DATE_FORMAT(stu.fatherBirth,'-%m-%d'))AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) = 7
        OR   <!--or后面的解决跨年问题-->
        DATEDIFF(CAST(CONCAT(YEAR(NOW())+1,DATE_FORMAT(stu.fatherBirth,'-%m-%d'))AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) = 7
        OR <!--补充闰年2月29日的生日方法-->
        (
        f_not_leap_year(YEAR(NOW()))
        AND DATE_FORMAT(stu.fatherBirth,'-%m-%d')= '-02-29'
        AND DATEDIFF(CAST(CONCAT('2000',DATE_FORMAT(stu.fatherBirth,'-%m-%d'))AS DATE),CAST(CONCAT('2000',DATE_FORMAT(NOW(),'-%m-%d')) AS DATE)) = 7)
    </select>

    <select id="selectByMotherBirth"  resultType="com.system.po.StuCustom">
        select
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        stu.gradeID = grade.gradeID
        AND  <!--不跨年的查询-->
        DATEDIFF(CAST(CONCAT(YEAR(NOW()),DATE_FORMAT(stu.motherBirth,'-%m-%d'))AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) = 7
        OR   <!--or后面的解决跨年问题-->
        DATEDIFF(CAST(CONCAT(YEAR(NOW())+1,DATE_FORMAT(stu.motherBirth,'-%m-%d'))AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) = 7
        OR <!--补充闰年2月29日的生日方法-->
        (
        f_not_leap_year(YEAR(NOW()))
        AND DATE_FORMAT(stu.motherBirth,'-%m-%d')= '-02-29'
        AND DATEDIFF(CAST(CONCAT('2000',DATE_FORMAT(stu.motherBirth,'-%m-%d'))AS DATE),CAST(CONCAT('2000',DATE_FORMAT(NOW(),'-%m-%d')) AS DATE)) = 7)
    </select>

    <select id="selectByPay"  parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade, lesson
        WHERE
        stu.gradeID = grade.gradeID
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) = 7
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--缴费提醒 提前7天提醒-->
    <select id="selectAllByPay"  resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade, lesson
        WHERE
        stu.gradeID = grade.gradeID
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) = 7
    </select>

    <!--缴费学员 分页显示（全部年级 全部学科 全部类型）-->
    <select id="selectByPayStu"  parameterType="PagingVO" resultType="com.system.po.LessonCustom">
        select
        lesson.*, classtype.typeName, subject.subjectName, stu.stuName, stu.school, grade.gradeName
        from stu, grade, lesson, classtype, subject
        WHERE
        stu.gradeID = grade.gradeID
        AND lesson.typeID = classtype.typeID
        AND lesson.subjectID = subject.subjectID
        AND stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) >=0
        AND
        DATEDIFF(CAST(DATE_FORMAT(NOW(),'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d') AS DATE)) >= 0
        ORDER BY lesson.lessonStart DESC
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--缴费学员 全部显示（全部年级 全部学科 全部类型）-->
    <select id="selectAllByPayStu"  resultType="com.system.po.LessonCustom">
        select
        lesson.*, classtype.typeName, subject.subjectName, stu.stuName, stu.school, grade.gradeName
        from stu, grade, lesson, classtype, subject
        WHERE
        stu.gradeID = grade.gradeID
        AND lesson.typeID = classtype.typeID
        AND lesson.subjectID = subject.subjectID
        AND stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) >=0
        AND
        DATEDIFF(CAST(DATE_FORMAT(NOW(),'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d') AS DATE)) >= 0
        ORDER BY lesson.lessonStart DESC
    </select>

    <!--缴费学员1 分页显示（学科 类型）-->
    <select id="selectPayStuBySubAndType" parameterType="PagingVO" resultType="com.system.po.LessonCustom">
        select
        lesson.*, classtype.typeName, subject.subjectName, stu.stuName, stu.school, grade.gradeName
        from stu, grade, lesson, classtype, subject
        WHERE
        stu.gradeID = grade.gradeID
        AND lesson.typeID = classtype.typeID
        AND lesson.subjectID = subject.subjectID
        AND
        lesson.subjectID = #{intergertwo,jdbcType=INTEGER}
        AND
        lesson.typeID = #{intergerthree,jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) >= 0
        AND
        DATEDIFF(CAST(DATE_FORMAT(NOW(),'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d') AS DATE)) >= 0
        ORDER BY lesson.lessonStart DESC
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--缴费学员1   全部显示（学科 类型）-->
    <select id="selectAllPayStuBySubAndType" parameterType="PagingVO" resultType="com.system.po.LessonCustom">
        select
        lesson.*, classtype.typeName, subject.subjectName, stu.stuName, stu.school, grade.gradeName
        from stu, grade, lesson, classtype, subject
        WHERE stu.gradeID = grade.gradeID
        AND lesson.typeID = classtype.typeID
        AND lesson.subjectID = subject.subjectID
        AND
        lesson.subjectID = #{intergertwo,jdbcType=INTEGER}
        AND
        lesson.typeID = #{intergerthree,jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) >= 0
        AND
        DATEDIFF(CAST(DATE_FORMAT(NOW(),'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d') AS DATE)) >= 0
        ORDER BY lesson.lessonStart DESC
    </select>

    <!--缴费学员2 分页显示（年级 类型）-->
    <select id="selectPayStuByGradeAndType" parameterType="PagingVO" resultType="com.system.po.LessonCustom">
        select distinct
        lesson.*, classtype.typeName, subject.subjectName, stu.stuName, stu.school, grade.gradeName
        from stu, grade, lesson, classtype, subject
        WHERE stu.gradeID = grade.gradeID
        AND lesson.typeID = classtype.typeID
        AND lesson.subjectID = subject.subjectID
        AND
        stu.gradeID = #{intergertemp, jdbcType=INTEGER}
        AND
        lesson.typeID = #{intergerthree,jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) >= 0
        AND
        DATEDIFF(CAST(DATE_FORMAT(NOW(),'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d') AS DATE)) >= 0
        ORDER BY lesson.lessonStart DESC
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--缴费学员2 全部显示（年级 类型）-->
    <select id="selectAllPayStuByGradeAndType" parameterType="PagingVO" resultType="com.system.po.LessonCustom">
        select
        lesson.*, classtype.typeName, subject.subjectName, stu.stuName, stu.school, grade.gradeName
        from stu, grade, lesson, classtype, subject
        WHERE stu.gradeID = grade.gradeID
        AND lesson.typeID = classtype.typeID
        AND lesson.subjectID = subject.subjectID
        AND
        stu.gradeID = #{intergertemp, jdbcType=INTEGER}
        AND
        lesson.typeID = #{intergerthree,jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) >= 0
        AND
        DATEDIFF(CAST(DATE_FORMAT(NOW(),'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d') AS DATE)) >= 0
        ORDER BY lesson.lessonStart DESC
    </select>

    <!--缴费学员3 分页显示（年级 学科）-->
    <select id="selectPayStuByGradeAndSub" parameterType="PagingVO" resultType="com.system.po.LessonCustom">
        select
        lesson.*, classtype.typeName, subject.subjectName, stu.stuName, stu.school, grade.gradeName
        from stu, grade, lesson, classtype, subject
        WHERE stu.gradeID = grade.gradeID
        AND lesson.typeID = classtype.typeID
        AND lesson.subjectID = subject.subjectID
        AND
        stu.gradeID = #{intergertemp, jdbcType=INTEGER}
        AND
        lesson.subjectID = #{intergertwo,jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) >= 0
        AND
        DATEDIFF(CAST(DATE_FORMAT(NOW(),'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d') AS DATE)) >= 0
        ORDER BY lesson.lessonStart DESC
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--缴费学员3 全部显示（年级 学科）-->
    <select id="selectAllPayStuByGradeAndSub" parameterType="PagingVO" resultType="com.system.po.LessonCustom">
        select
        lesson.*, classtype.typeName, subject.subjectName, stu.stuName, stu.school, grade.gradeName
        from stu, grade, lesson, classtype, subject
        WHERE stu.gradeID = grade.gradeID
        AND lesson.typeID = classtype.typeID
        AND lesson.subjectID = subject.subjectID
        AND
        stu.gradeID = #{intergertemp, jdbcType=INTEGER}
        AND
        lesson.subjectID = #{intergertwo,jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) >= 0
        AND
        DATEDIFF(CAST(DATE_FORMAT(NOW(),'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d') AS DATE)) >= 0
        ORDER BY lesson.lessonStart DESC
    </select>

    <!--缴费学员4 分页显示（年级 ）-->
    <select id="selectPayStuByGrade" parameterType="PagingVO" resultType="com.system.po.LessonCustom">
        select
        lesson.*, classtype.typeName, subject.subjectName, stu.stuName, stu.school, grade.gradeName
        from stu, grade, lesson, classtype, subject
        WHERE stu.gradeID = grade.gradeID
        AND lesson.typeID = classtype.typeID
        AND lesson.subjectID = subject.subjectID
        AND
        stu.gradeID = #{intergertemp, jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) >= 0
        AND
        DATEDIFF(CAST(DATE_FORMAT(NOW(),'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d') AS DATE)) >= 0
        ORDER BY lesson.lessonStart DESC
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--缴费学员4 全部显示（年级 ）-->
    <select id="selectAllPayStuByGrade" parameterType="PagingVO" resultType="com.system.po.LessonCustom">
        select
        lesson.*, classtype.typeName, subject.subjectName, stu.stuName, stu.school, grade.gradeName
        from stu, grade, lesson, classtype, subject
        WHERE stu.gradeID = grade.gradeID
        AND lesson.typeID = classtype.typeID
        AND lesson.subjectID = subject.subjectID
        AND
        stu.gradeID = #{intergertemp, jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) >= 0
        AND
        DATEDIFF(CAST(DATE_FORMAT(NOW(),'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d') AS DATE)) >= 0
        ORDER BY lesson.lessonStart DESC
    </select>

    <!--缴费学员5 分页显示（学科 ）-->
    <select id="selectPayStuBySub" parameterType="PagingVO" resultType="com.system.po.LessonCustom">
        select
        lesson.*, classtype.typeName, subject.subjectName, stu.stuName, stu.school, grade.gradeName
        from stu, grade, lesson, classtype, subject
        WHERE stu.gradeID = grade.gradeID
        AND lesson.typeID = classtype.typeID
        AND lesson.subjectID = subject.subjectID
        AND
        lesson.subjectID = #{intergertwo,jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) >= 0
        AND
        DATEDIFF(CAST(DATE_FORMAT(NOW(),'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d') AS DATE)) >= 0
        ORDER BY lesson.lessonStart DESC
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--缴费学员5 全部显示（学科 ）-->
    <select id="selectAllPayStuBySub" parameterType="PagingVO" resultType="com.system.po.LessonCustom">
        select
        lesson.*, classtype.typeName, subject.subjectName, stu.stuName, stu.school, grade.gradeName
        from stu, grade, lesson, classtype, subject
        WHERE stu.gradeID = grade.gradeID
        AND lesson.typeID = classtype.typeID
        AND lesson.subjectID = subject.subjectID
        AND
        lesson.subjectID = #{intergertwo,jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) >= 0
        AND
        DATEDIFF(CAST(DATE_FORMAT(NOW(),'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d') AS DATE)) >= 0
        ORDER BY lesson.lessonStart DESC
    </select>

    <!--缴费学员6 分页显示（类型 ）-->
    <select id="selectPayStuByType" parameterType="PagingVO" resultType="com.system.po.LessonCustom">
        select
        lesson.*, classtype.typeName, subject.subjectName, stu.stuName, stu.school, grade.gradeName
        from stu, grade, lesson, classtype, subject
        WHERE stu.gradeID = grade.gradeID
        AND lesson.typeID = classtype.typeID
        AND lesson.subjectID = subject.subjectID
        AND
        lesson.typeID = #{intergerthree,jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) >= 0
        AND
        DATEDIFF(CAST(DATE_FORMAT(NOW(),'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d') AS DATE)) >= 0
        ORDER BY lesson.lessonStart DESC
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--缴费学员6 全部显示（类型 ）-->
    <select id="selectAllPayStuByType" parameterType="PagingVO" resultType="com.system.po.LessonCustom">
        select
        lesson.*, classtype.typeName, subject.subjectName, stu.stuName, stu.school, grade.gradeName
        from stu, grade, lesson, classtype, subject
        WHERE stu.gradeID = grade.gradeID
        AND lesson.typeID = classtype.typeID
        AND lesson.subjectID = subject.subjectID
        AND
        lesson.typeID = #{intergerthree,jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) >= 0
        AND
        DATEDIFF(CAST(DATE_FORMAT(NOW(),'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d') AS DATE)) >= 0
        ORDER BY lesson.lessonStart DESC
    </select>

    <!--缴费学员7 分页显示（类型 ）-->
    <select id="selectPayStuByGradeSubType" parameterType="PagingVO" resultType="com.system.po.LessonCustom">
        select
       lesson.*, classtype.typeName, subject.subjectName, stu.stuName, stu.school, grade.gradeName
        from stu, grade, lesson, classtype, subject
        WHERE stu.gradeID = grade.gradeID
        AND lesson.typeID = classtype.typeID
        AND lesson.subjectID = subject.subjectID
        AND
        stu.gradeID = #{intergertemp, jdbcType=INTEGER}
        AND
        lesson.subjectID = #{intergertwo,jdbcType=INTEGER}
        AND
        lesson.typeID = #{intergerthree,jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) >= 0
        AND
        DATEDIFF(CAST(DATE_FORMAT(NOW(),'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d') AS DATE)) >= 0
        ORDER BY lesson.lessonStart DESC
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--缴费学员7 全部显示（类型 ）-->
    <select id="selectAllPayStuByGradeSubType" parameterType="PagingVO" resultType="com.system.po.LessonCustom" >
        select
        lesson.*, classtype.typeName, subject.subjectName, stu.stuName, stu.school, grade.gradeName
        from stu, grade, lesson, classtype, subject
        WHERE stu.gradeID = grade.gradeID
        AND lesson.typeID = classtype.typeID
        AND lesson.subjectID = subject.subjectID
        AND
        stu.gradeID = #{intergertemp, jdbcType=INTEGER}
        AND
        lesson.subjectID = #{intergertwo,jdbcType=INTEGER}
        AND
        lesson.typeID = #{intergerthree,jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) >= 0
        AND
        DATEDIFF(CAST(DATE_FORMAT(NOW(),'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d') AS DATE)) >= 0
        ORDER BY lesson.lessonStart DESC
    </select>


    <select id="selectByUnPayStu"  parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        stu.gradeID = grade.gradeID
        AND
        stu.stuID NOT IN
        (
        SELECT DISTINCT lesson.stuID
        FROM lesson
        WHERE
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        )
        limit #{toPageNo}, #{pageSize}
    </select>

    <select id="selectAllByUnPayStu"  resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        stu.gradeID = grade.gradeID
        AND
        stu.stuID NOT IN
        (
        SELECT DISTINCT lesson.stuID
        FROM lesson
        WHERE
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        )
    </select>

    <select id="selectOutstandStu"  parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        stu.stutype = '优质学生'
        AND
        stu.gradeID = grade.gradeID
        limit #{toPageNo}, #{pageSize}
    </select>

    <select id="selectAllOutstandStu"  resultType="com.system.po.StuCustom">
        select
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        stu.stutype = '优质学生'
        AND
        stu.gradeID = grade.gradeID
    </select>

    <!--根据年级查看未缴费学员-->
    <select id="selectUnPayStuByGrade"  parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        stu.gradeID = grade.gradeID
        AND
        stu.gradeID = #{intergertemp, jdbcType=INTEGER}
        AND
        stu.stuID NOT IN
        (
        SELECT DISTINCT lesson.stuID
        FROM lesson
        WHERE
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        )
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--根据年级查看未缴费学员-->
    <select id="selectAllUnPayStuByGrade"  parameterType="java.lang.Integer" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        stu.gradeID = grade.gradeID
        AND stu.gradeID = #{gradeid, jdbcType=INTEGER}
        AND
        stu.stuID NOT IN
        (
        SELECT DISTINCT lesson.stuID
        FROM lesson
        WHERE
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        )
    </select>



    <select id="selectByLister" parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        stu.recordPerson = #{stringtemp, jdbcType=VARCHAR}
        AND
        stu.gradeID = grade.gradeID
        AND
        stu.recordDate BETWEEN #{startdate, jdbcType=DATE} AND #{enddate, jdbcType=DATE}
        limit #{toPageNo}, #{pageSize}
    </select>

    <select id="selectByUpdater" parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        stu.gradeID = grade.gradeID
        AND
        stu.stuID  IN
        (
        SELECT DISTINCT lesson.stuID
        FROM lesson
        WHERE lesson.operator = #{stringtemp, jdbcType=VARCHAR}
        AND
        lesson.recordDate BETWEEN #{startdate, jdbcType=DATE} AND #{enddate, jdbcType=DATE}
        UNION
        SELECT DISTINCT exam.stuID
        FROM exam
        WHERE exam.updatePerson = #{stringtemp, jdbcType=VARCHAR}
        AND
        exam.recordDate BETWEEN #{startdate, jdbcType=DATE} AND #{enddate, jdbcType=DATE}
        )
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--分页 全部 有电话-->
    <select id="selectByUnPayStuTel"  parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        stu.gradeID = grade.gradeID
        AND
       ( stu.stuTel !=''
        OR
        stu.motherTel !=''
        OR
        stu.fatherTel !='')
        AND
        stu.stuID NOT IN
        (
        SELECT DISTINCT lesson.stuID
        FROM lesson
        WHERE
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        )
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--不分页 全部 有电话-->
    <select id="selectAllByUnPayStuTel"  resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        stu.gradeID = grade.gradeID
        AND
        (stu.stuTel !=''
        OR
        stu.motherTel !=''
        OR
        stu.fatherTel !='')
        AND
        stu.stuID NOT IN
        (
        SELECT DISTINCT lesson.stuID
        FROM lesson
        WHERE
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        )
    </select>


    <!--分页 全部 无电话-->
    <select id="selectByUnPayStuNoTel"  parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        stu.gradeID = grade.gradeID
        AND
        stu.stuTel =''
        AND
        stu.motherTel=''
        AND
        stu.fatherTel=''
        AND
        stu.stuID NOT IN
        (
        SELECT DISTINCT lesson.stuID
        FROM lesson
        WHERE
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        )
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--不分页 全部 无电话-->
    <select id="selectAllByUnPayStuNoTel"  resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        stu.gradeID = grade.gradeID
        AND
        stu.stuTel =''
        AND
        stu.motherTel=''
        AND
        stu.fatherTel=''
        AND
        stu.stuID NOT IN
        (
        SELECT DISTINCT lesson.stuID
        FROM lesson
        WHERE
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        )
    </select>

    <!--//分页 分年级 有电话-->
    <select id="selectUnPayStuByGradeTel"  parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade
        WHERE
       (stu.stuTel !=''
        OR
        stu.motherTel !=''
        OR
        stu.fatherTel !='')
        AND
        stu.gradeID = grade.gradeID
        AND
        stu.gradeID = #{intergertemp, jdbcType=INTEGER}
        AND
        stu.stuID NOT IN
        (
        SELECT DISTINCT lesson.stuID
        FROM lesson
        WHERE
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        )
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--//不分页 分年级 有电话-->
    <select id="selectAllUnPayStuByGradeTel"  parameterType="java.lang.Integer" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        (stu.stuTel !=''
        OR
        stu.motherTel !=''
        OR
        stu.fatherTel !='')
        AND
        stu.gradeID = grade.gradeID
        AND stu.gradeID = #{gradeid, jdbcType=INTEGER}
        AND
        stu.stuID NOT IN
        (
        SELECT DISTINCT lesson.stuID
        FROM lesson
        WHERE
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        )
    </select>

    <!-- 分页 分年级 没电话-->
    <select id="selectUnPayStuByGradeNoTel"  parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        stu.gradeID = grade.gradeID
        AND
        stu.gradeID = #{intergertemp, jdbcType=INTEGER}
        AND
        stu.stuTel =''
        AND
        stu.motherTel=''
        AND
        stu.fatherTel=''
        AND
        stu.stuID NOT IN
        (
        SELECT DISTINCT lesson.stuID
        FROM lesson
        WHERE
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        )
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--//不分页 分年级 没电话-->
    <select id="selectAllUnPayStuByGradeNoTel"  parameterType="java.lang.Integer" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        stu.gradeID = grade.gradeID
        AND stu.gradeID = #{gradeid, jdbcType=INTEGER}
        AND
        stu.stuTel =''
        AND
        stu.motherTel=''
        AND
        stu.fatherTel=''
        AND
        stu.stuID NOT IN
        (
        SELECT DISTINCT lesson.stuID
        FROM lesson
        WHERE
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        )
    </select>

    <!--1 新录入信息，根据年纪，已经缴费  负责人查看-->
    <select id="selectLeaderReceiveByGradePay" parameterType="java.util.Map" resultType="com.system.po.StuCustom">
        select stu.* , grade.gradeName
        from stu,sign, grade
        WHERE
        stu.stuID = sign.stuID
        AND
        stu.gradeID = grade.gradeID
        AND
        sign.leaderSign = ''
        AND
        stu.gradeID IN
        <foreach collection="list" index="index" item="item" open="(" separator="," close=")">
            #{item,jdbcType=INTEGER}
        </foreach>
        AND
        stu.stuID IN
        (
        SELECT DISTINCT lesson.stuID
        FROM lesson
        WHERE
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        )
        limit #{pagingVO.toPageNo}, #{pagingVO.pageSize}
    </select>

    <!--1 新录入信息，根据年纪，已经缴费  校长查看-->
    <select id="selectMasterReceiveByGradePay" parameterType="java.util.Map" resultType="com.system.po.StuCustom">
        select stu.* , grade.gradeName
        from stu,sign, grade
        WHERE
        stu.stuID = sign.stuID
        AND
        stu.gradeID = grade.gradeID
        AND
        sign.masterSign = ''
        AND
        stu.gradeID IN
        <foreach collection="list" index="index" item="item" open="(" separator="," close=")">
            #{item,jdbcType=INTEGER}
        </foreach>
        AND
        stu.stuID IN
        (
        SELECT DISTINCT lesson.stuID
        FROM lesson
        WHERE
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        )
        limit #{pagingVO.toPageNo}, #{pagingVO.pageSize}
    </select>

    <!--2 新录入信息，根据年纪，没有缴费 负责人查看-->
    <select id="selectLeaderReceiveByGradeUnPay" parameterType="java.util.Map" resultType="com.system.po.StuCustom">
        select stu.* , grade.gradeName
        from stu,sign, grade
        WHERE
        stu.stuID = sign.stuID
        AND
        stu.gradeID = grade.gradeID
        AND
        sign.leaderSign = ''
        AND
        stu.gradeID IN
        <foreach collection="list" index="index" item="item" open="(" separator="," close=")">
            #{item,jdbcType=INTEGER}
        </foreach>
        AND
        stu.stuID NOT IN
        (
        SELECT DISTINCT lesson.stuID
        FROM lesson
        WHERE
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        )
        limit #{pagingVO.toPageNo}, #{pagingVO.pageSize}
    </select>

    <!--2 新录入信息，根据年纪，没有缴费 校长查看-->
    <select id="selectMasterReceiveByGradeUnPay" parameterType="java.util.Map" resultType="com.system.po.StuCustom">
        select stu.* , grade.gradeName
        from stu,sign, grade
        WHERE
        stu.stuID = sign.stuID
        AND
        stu.gradeID = grade.gradeID
        AND
        sign.masterSign = ''
        AND
        stu.gradeID IN
        <foreach collection="list" index="index" item="item" open="(" separator="," close=")">
            #{item,jdbcType=INTEGER}
        </foreach>
        AND
        stu.stuID NOT IN
        (
        SELECT DISTINCT lesson.stuID
        FROM lesson
        WHERE
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        )
        limit #{pagingVO.toPageNo}, #{pagingVO.pageSize}
    </select>

    <!--3 新录入信息，根据年纪，缴费和未缴费 负责人查看-->
    <select id="selectLeaderReceiveByGrade" parameterType="java.util.Map" resultType="com.system.po.StuCustom">
        select stu.* , grade.gradeName
        from stu,sign, grade
        WHERE
        stu.stuID = sign.stuID
        AND
        stu.gradeID = grade.gradeID
        AND
        sign.leaderSign = ''
        AND
        stu.gradeID IN
        <foreach collection="list" index="index" item="item" open="(" separator="," close=")">
            #{item,jdbcType=INTEGER}
        </foreach>
        limit #{pagingVO.toPageNo}, #{pagingVO.pageSize}
    </select>

    <!--3 新录入信息，根据年纪，缴费和未缴费 校长查看-->
    <select id="selectMasterReceiveByGrade" parameterType="java.util.Map" resultType="com.system.po.StuCustom">
        select stu.* , grade.gradeName
        from stu,sign, grade
        WHERE
        stu.stuID = sign.stuID
        AND
        stu.gradeID = grade.gradeID
        AND
        sign.masterSign = ''
        AND
        stu.gradeID IN
        <foreach collection="list" index="index" item="item" open="(" separator="," close=")">
            #{item,jdbcType=INTEGER}
        </foreach>
        limit #{pagingVO.toPageNo}, #{pagingVO.pageSize}
    </select>

    <!--1 更新信息，根据年纪，已经缴费 负责人查看-->
    <select id="selectLeaderUpdateByGradePay" parameterType="java.util.Map" resultType="com.system.po.StuCustom">
        select stu.* , grade.gradeName
        from stu,sign, grade
        WHERE
        stu.stuID = sign.stuID
        AND
        stu.gradeID = grade.gradeID
        AND
        sign.leaderSign != ''
        AND
        sign.leaderSignID =0
        AND
        stu.gradeID IN
        <foreach collection="list" index="index" item="item" open="(" separator="," close=")">
            #{item,jdbcType=INTEGER}
        </foreach>
        AND
        stu.stuID IN
        (
        SELECT DISTINCT lesson.stuID
        FROM lesson
        WHERE
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        )
        limit #{pagingVO.toPageNo}, #{pagingVO.pageSize}
    </select>

    <!--1 更新信息，根据年纪，已经缴费 校长查看-->
    <select id="selectMasterUpdateByGradePay" parameterType="java.util.Map" resultType="com.system.po.StuCustom">
        select stu.* , grade.gradeName
        from stu,sign, grade
        WHERE
        stu.stuID = sign.stuID
        AND
        stu.gradeID = grade.gradeID
        AND
        sign.masterSign != ''
        AND
        sign.masterSignID = 0
        AND
        stu.gradeID IN
        <foreach collection="list" index="index" item="item" open="(" separator="," close=")">
            #{item,jdbcType=INTEGER}
        </foreach>
        AND
        stu.stuID IN
        (
        SELECT DISTINCT lesson.stuID
        FROM lesson
        WHERE
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        )
        limit #{pagingVO.toPageNo}, #{pagingVO.pageSize}
    </select>

    <!--2 更新信息，根据年纪，没有缴费  负责人查看-->
    <select id="selectLeaderUpdateByGradeUnPay" parameterType="java.util.Map" resultType="com.system.po.StuCustom">
        select stu.* , grade.gradeName
        from stu,sign, grade
        WHERE
        stu.stuID = sign.stuID
        AND
        stu.gradeID = grade.gradeID
        AND
        sign.leaderSign != ''
        AND
        sign.leaderSignID =0
        AND
        stu.gradeID IN
        <foreach collection="list" index="index" item="item" open="(" separator="," close=")">
            #{item,jdbcType=INTEGER}
        </foreach>
        AND
        stu.stuID NOT IN
        (
        SELECT DISTINCT lesson.stuID
        FROM lesson
        WHERE
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        )
        limit #{pagingVO.toPageNo}, #{pagingVO.pageSize}
    </select>

    <!--2 更新信息，根据年纪，没有缴费  校长查看-->
    <select id="selectMasterUpdateByGradeUnPay" parameterType="java.util.Map" resultType="com.system.po.StuCustom">
        select stu.* , grade.gradeName
        from stu,sign, grade
        WHERE
        stu.stuID = sign.stuID
        AND
        stu.gradeID = grade.gradeID
        AND
        sign.masterSign != ''
        AND
        sign.masterSignID =0
        AND
        stu.gradeID IN
        <foreach collection="list" index="index" item="item" open="(" separator="," close=")">
            #{item,jdbcType=INTEGER}
        </foreach>
        AND
        stu.stuID NOT IN
        (
        SELECT DISTINCT lesson.stuID
        FROM lesson
        WHERE
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonEnd,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        )
        limit #{pagingVO.toPageNo}, #{pagingVO.pageSize}
    </select>

    <!--3 更新信息，根据年纪，缴费和未缴费 负责人查看-->
    <select id="selectLeaderUpdateByGrade" parameterType="java.util.Map" resultType="com.system.po.StuCustom">
        select stu.* , grade.gradeName
        from stu,sign, grade
        WHERE
        stu.stuID = sign.stuID
        AND
        stu.gradeID = grade.gradeID
        AND
        sign.leaderSign != ''
        AND
        sign.leaderSignID =0
        AND
        stu.gradeID IN
        <foreach collection="list" index="index" item="item" open="(" separator="," close=")">
            #{item,jdbcType=INTEGER}
        </foreach>
        limit #{pagingVO.toPageNo}, #{pagingVO.pageSize}
    </select>

    <!--3 更新信息，根据年纪，缴费和未缴费 校长查看-->
    <select id="selectMasterUpdateByGrade" parameterType="java.util.Map" resultType="com.system.po.StuCustom">
        select stu.* , grade.gradeName
        from stu,sign, grade
        WHERE
        stu.stuID = sign.stuID
        AND
        stu.gradeID = grade.gradeID
        AND
        sign.masterSign != ''
        AND
        sign.masterSignID =0
        AND
        stu.gradeID IN
        <foreach collection="list" index="index" item="item" open="(" separator="," close=")">
            #{item,jdbcType=INTEGER}
        </foreach>
        limit #{pagingVO.toPageNo}, #{pagingVO.pageSize}
    </select>

    <!--管理员新录入信息提醒-校长已经签字-->
    <select id="selectAdminReceive"  parameterType="com.system.po.PagingVO" resultType="com.system.po.StuCustom">
        select stu.* , grade.gradeName
        from stu,sign, grade
        WHERE
        stu.stuID = sign.stuID
        AND
        stu.gradeID = grade.gradeID
        AND
        sign.receiveSign = 0
        AND
        sign.masterSignID = 1
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--管理员新录入信息提醒-校长未签字-->
    <select id="selectAdminReceiveUnsign"  parameterType="com.system.po.PagingVO" resultType="com.system.po.StuCustom">
        select stu.* , grade.gradeName
        from stu,sign, grade
        WHERE
        stu.stuID = sign.stuID
        AND
        stu.gradeID = grade.gradeID
        AND
        sign.receiveSign = 0
        AND
        sign.masterSignID = 0
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--管理员更新信息提醒-校长已经签字-->
    <select id="selectAdminUpdate"  parameterType="com.system.po.PagingVO" resultType="com.system.po.StuCustom">
        select stu.* , grade.gradeName
        from stu,sign, grade
        WHERE
        stu.stuID = sign.stuID
        AND
        stu.gradeID = grade.gradeID
        AND
        sign.adminSignID = 1
        AND
        sign.masterSignID = 1
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--管理员更新信息提醒-校长未签字-->
    <select id="selectAdminUpdateUnsign"  parameterType="com.system.po.PagingVO" resultType="com.system.po.StuCustom">
        select stu.* , grade.gradeName
        from stu,sign, grade
        WHERE
        stu.stuID = sign.stuID
        AND
        stu.gradeID = grade.gradeID
        AND
        sign.adminSignID = 1
        AND
        sign.masterSignID = 0
        limit #{toPageNo}, #{pageSize}
    </select>


    <!--搜索学校-->
    <select id="selectAllBySchool" parameterType="String" resultType="com.system.po.StuCustom">
        select
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        school = #{schoolName, jdbcType=VARCHAR}
        AND
        stu.gradeID = grade.gradeID
    </select>

    <!--搜索学校(分页显示)-->
    <select id="selectBySchool" parameterType="com.system.po.PagingVO" resultType="com.system.po.StuCustom">
        select
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        school = #{stringtemp, jdbcType=VARCHAR}
        AND
        stu.gradeID = grade.gradeID
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--搜索专业-->
    <select id="selectAllByMajor" parameterType="String" resultType="com.system.po.StuCustom">
        select
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        major = #{majorName, jdbcType=VARCHAR}
        AND
        stu.gradeID = grade.gradeID
    </select>

    <!--搜索专业(分页显示)-->
    <select id="selectByMajor" parameterType="com.system.po.PagingVO" resultType="com.system.po.StuCustom">
        select
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        major = #{stringtemp, jdbcType=VARCHAR}
        AND
        stu.gradeID = grade.gradeID
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--搜索重名（分页显示）-->
    <select id="selectSameName" parameterType="com.system.po.PagingVO" resultType="com.system.po.StuCustom">
        select
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        stu.gradeID = grade.gradeID
        AND
        stu.stuName IN
        (
          SELECT stu.stuName
          FROM stu
          GROUP BY stu.stuName
          HAVING count( * ) >= 2
        )
        ORDER BY stu.stuName
        limit #{toPageNo}, #{pageSize}
    </select>

    <select id="selectByCheck" parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select
        stu.*, grade.gradeName
        from stu, grade
        WHERE
        stu.checkDate BETWEEN #{startdate, jdbcType=DATE} AND #{enddate, jdbcType=DATE}
        AND
        stu.gradeID = grade.gradeID
        AND
        stu.major = #{stringtemp}
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--预缴费学员 分页显示（全部年级 全部学科 全部类型）-->
    <select id="selectByPrePayStu"  parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade, lesson
        WHERE
        stu.gradeID = grade.gradeID
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        ORDER BY lesson.lessonStart DESC
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--预缴费学员 全部显示（全部年级 全部学科 全部类型）-->
    <select id="selectAllByPrePayStu"  resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade, lesson
        WHERE
        stu.gradeID = grade.gradeID
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        ORDER BY lesson.lessonStart DESC
    </select>

    <!--预缴费学员1 分页显示（学科 类型）-->
    <select id="selectPrePayStuBySubAndType" parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade, lesson
        WHERE
        stu.gradeID = grade.gradeID
        AND
        lesson.subjectID = #{intergertwo,jdbcType=INTEGER}
        AND
        lesson.typeID = #{intergerthree,jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        ORDER BY lesson.lessonStart DESC
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--预缴费学员1   全部显示（学科 类型）-->
    <select id="selectAllPrePayStuBySubAndType" parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade, lesson
        WHERE
        stu.gradeID = grade.gradeID
        AND
        lesson.subjectID = #{intergertwo,jdbcType=INTEGER}
        AND
        lesson.typeID = #{intergerthree,jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        ORDER BY lesson.lessonStart DESC
    </select>

    <!--预缴费学员2 分页显示（年级 类型）-->
    <select id="selectPrePayStuByGradeAndType" parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade, lesson
        WHERE
        stu.gradeID = grade.gradeID
        AND
        stu.gradeID = #{intergertemp, jdbcType=INTEGER}
        AND
        lesson.typeID = #{intergerthree,jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        ORDER BY lesson.lessonStart DESC
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--预缴费学员2 全部显示（年级 类型）-->
    <select id="selectAllPrePayStuByGradeAndType" parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade, lesson
        WHERE
        stu.gradeID = grade.gradeID
        AND
        stu.gradeID = #{intergertemp, jdbcType=INTEGER}
        AND
        lesson.typeID = #{intergerthree,jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        ORDER BY lesson.lessonStart DESC
    </select>

    <!--预缴费学员3 分页显示（年级 学科）-->
    <select id="selectPrePayStuByGradeAndSub" parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade, lesson
        WHERE
        stu.gradeID = grade.gradeID
        AND
        stu.gradeID = #{intergertemp, jdbcType=INTEGER}
        AND
        lesson.subjectID = #{intergertwo,jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        ORDER BY lesson.lessonStart DESC
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--预缴费学员3 全部显示（年级 学科）-->
    <select id="selectAllPrePayStuByGradeAndSub" parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade, lesson
        WHERE
        stu.gradeID = grade.gradeID
        AND
        stu.gradeID = #{intergertemp, jdbcType=INTEGER}
        AND
        lesson.subjectID = #{intergertwo,jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        ORDER BY lesson.lessonStart DESC
    </select>

    <!--预缴费学员4 分页显示（年级 ）-->
    <select id="selectPrePayStuByGrade" parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade, lesson
        WHERE
        stu.gradeID = grade.gradeID
        AND
        stu.gradeID = #{intergertemp, jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        ORDER BY lesson.lessonStart DESC
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--预缴费学员4 全部显示（年级 ）-->
    <select id="selectAllPrePayStuByGrade" parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade, lesson
        WHERE
        stu.gradeID = grade.gradeID
        AND
        stu.gradeID = #{intergertemp, jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        ORDER BY lesson.lessonStart DESC
    </select>

    <!--预缴费学员5 分页显示（学科 ）-->
    <select id="selectPrePayStuBySub" parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade, lesson
        WHERE
        stu.gradeID = grade.gradeID
        AND
        lesson.subjectID = #{intergertwo,jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        ORDER BY lesson.lessonStart DESC
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--预缴费学员5 全部显示（学科 ）-->
    <select id="selectAllPrePayStuBySub" parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade, lesson
        WHERE
        stu.gradeID = grade.gradeID
        AND
        lesson.subjectID = #{intergertwo,jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        ORDER BY lesson.lessonStart DESC
    </select>

    <!--预缴费学员6 分页显示（类型 ）-->
    <select id="selectPrePayStuByType" parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade, lesson
        WHERE
        stu.gradeID = grade.gradeID
        AND
        lesson.typeID = #{intergerthree,jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        ORDER BY lesson.lessonStart DESC
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--预缴费学员6 全部显示（类型 ）-->
    <select id="selectAllPrePayStuByType" parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade, lesson
        WHERE
        stu.gradeID = grade.gradeID
        AND
        lesson.typeID = #{intergerthree,jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        ORDER BY lesson.lessonStart DESC
    </select>


    <!--预缴费学员7 分页显示（类型 ）-->
    <select id="selectPrePayStuByGradeSubType" parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade, lesson
        WHERE
        stu.gradeID = grade.gradeID
        AND
        stu.gradeID = #{intergertemp, jdbcType=INTEGER}
        AND
        lesson.subjectID = #{intergertwo,jdbcType=INTEGER}
        AND
        lesson.typeID = #{intergerthree,jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        ORDER BY lesson.lessonStart DESC
        limit #{toPageNo}, #{pageSize}
    </select>

    <!--预缴费学员7 全部显示（类型 ）-->
    <select id="selectAllPrePayStuByGradeSubType" parameterType="PagingVO" resultType="com.system.po.StuCustom">
        select distinct
        stu.*, grade.gradeName
        from stu, grade, lesson
        WHERE
        stu.gradeID = grade.gradeID
        AND
        stu.gradeID = #{intergertemp, jdbcType=INTEGER}
        AND
        lesson.subjectID = #{intergertwo,jdbcType=INTEGER}
        AND
        lesson.typeID = #{intergerthree,jdbcType=INTEGER}
        AND
        stu.stuID = lesson.stuID
        AND
        DATEDIFF(CAST(DATE_FORMAT(lesson.lessonStart,'%y-%m-%d')AS DATE),CAST(DATE_FORMAT(NOW(),'%y-%m-%d') AS DATE)) > 0
        ORDER BY lesson.lessonStart DESC
    </select>

</mapper>